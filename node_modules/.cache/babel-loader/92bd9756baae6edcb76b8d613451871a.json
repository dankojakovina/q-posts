{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport QPost from '../components/QPost.vue';\nimport QCommentInput from '../components/QCommentInput.vue';\nimport { Page } from '../mixins/index.js';\nexport default {\n  name: 'PostsPage',\n  mixins: [Page('Posts')],\n  components: {\n    QPost,\n    QCommentInput\n  },\n\n  data() {\n    return {\n      showComments: false,\n      data: {\n        posts: [{\n          id: 1,\n          title: 'Post 1',\n          text: 'zwtzwe zwez ewztwe gwsfhf dfhdfhdfhdfhdfh dfhdfhbndfhdfnbd  bdfnd fndndf dfbd bdfdfb dfbdf bsddsbdfb dfbnd  bsdfb dfb dfb dbd fbdf hbdfbdfbdfb'\n        }, {\n          id: 2,\n          title: 'Post 2'\n        }, {\n          id: 3,\n          title: 'Post 3'\n        }],\n        comments: [{\n          id: 1,\n          body: 'some comment',\n          postId: 1,\n          avatar: 'avatar-1.jpg'\n        }, {\n          id: 2,\n          body: 'some comment',\n          postId: 1,\n          avatar: 'avatar-2.jpg'\n        }, {\n          id: 1,\n          body: 'some comment',\n          postId: 2,\n          avatar: 'avatar-3.jpg'\n        }],\n        profile: {\n          name: 'typicode'\n        }\n      }\n    };\n  },\n\n  created() {\n    this.formatData();\n  },\n\n  methods: {\n    formatData() {\n      this.data.posts = this.data.posts.map(post => {\n        const comments = this.data.comments.filter(comment => {\n          return post.id === comment.postId;\n        });\n        post.comments = comments;\n        return post;\n      });\n    },\n\n    onPostComment(postId, comment) {\n      this.data.comments.push({\n        id: new Date().getTime(),\n        body: comment,\n        postId\n      });\n      this.formatData();\n    },\n\n    onShowComments() {\n      this.showComments = true;\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAaA;AACA;AACA;AAIA;EACAA,iBADA;EAEAC,uBAFA;EAGAC;IACAC,KADA;IAEAC;EAFA,CAHA;;EAOAC;IACA;MACAC,mBADA;MAEAD;QACAE,QACA;UACAC,KADA;UACAC,eADA;UACAC;QADA,CADA,EAIA;UAAAF;UAAAC;QAAA,CAJA,EAKA;UAAAD;UAAAC;QAAA,CALA,CADA;QAQAE,WACA;UAAAH;UAAAI;UAAAC;UAAAC;QAAA,CADA,EAEA;UAAAN;UAAAI;UAAAC;UAAAC;QAAA,CAFA,EAGA;UAAAN;UAAAI;UAAAC;UAAAC;QAAA,CAHA,CARA;QAaAC;UACAf;QADA;MAbA;IAFA;EAoBA,CA5BA;;EA6BAgB;IACA;EACA,CA/BA;;EAgCAC;IACAC;MACA;QACA;UACA;QACA,CAFA;QAGAC;QACA;MACA,CANA;IAOA,CATA;;IAUAC;MACA;QAAAZ;QAAAI;QAAAC;MAAA;MACA;IACA,CAbA;;IAcAQ;MACA;IACA;;EAhBA;AAhCA","names":["name","mixins","components","QPost","QCommentInput","data","showComments","posts","id","title","text","comments","body","postId","avatar","profile","created","methods","formatData","post","onPostComment","onShowComments"],"sourceRoot":"src/pages","sources":["PostsPage.vue"],"sourcesContent":["<template>\r\n\t<div class=\"container\">\r\n\t\t<div class=\"row\">\r\n\t\t\t<div>\r\n\t\t\t\t<QPost @showComments=\"onShowComments\" v-for=\"post of data.posts\" :key=\"post.id\" :post=\"post\">\r\n\t\t\t\t\t<QCommentInput class=\"pt-2\" :no-padding=\"true\" @postComment=\"onPostComment(post.id, $event)\" />\r\n\t\t\t\t</QPost>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport QPost from '../components/QPost.vue';\r\nimport QCommentInput from '../components/QCommentInput.vue';\r\nimport { Page } from '../mixins/index.js';\r\n\r\n\r\n\r\nexport default {\r\n  name: 'PostsPage',\r\n  mixins: [Page('Posts')],\r\n  components: {\r\n    QPost,\r\n    QCommentInput\r\n  },\r\n  data() {\r\n    return {\r\n      showComments: false,\r\n      data: {\r\n        posts: [\r\n          {\r\n            id: 1, title: 'Post 1', text: 'zwtzwe zwez ewztwe gwsfhf dfhdfhdfhdfhdfh dfhdfhbndfhdfnbd  bdfnd fndndf dfbd bdfdfb dfbdf bsddsbdfb dfbnd  bsdfb dfb dfb dbd fbdf hbdfbdfbdfb'\r\n          },\r\n          { id: 2, title: 'Post 2' },\r\n          { id: 3, title: 'Post 3' }\r\n        ],\r\n        comments: [\r\n          { id: 1, body: 'some comment', postId: 1, avatar: 'avatar-1.jpg' },\r\n          { id: 2, body: 'some comment', postId: 1, avatar: 'avatar-2.jpg' },\r\n          { id: 1, body: 'some comment', postId: 2, avatar: 'avatar-3.jpg' }\r\n        ],\r\n        profile: {\r\n          name: 'typicode'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.formatData();\r\n  },  \r\n  methods: {\r\n    formatData() {\r\n      this.data.posts = this.data.posts.map((post) => {\r\n        const comments = this.data.comments.filter((comment) => {\r\n          return post.id === comment.postId;\r\n        });\r\n        post.comments = comments;\r\n        return post;\r\n      });\r\n    },\r\n    onPostComment(postId, comment) {\r\n      this.data.comments.push({ id: new Date().getTime(), body: comment, postId });\r\n      this.formatData();\r\n    },\r\n    onShowComments() {\r\n      this.showComments = true;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}